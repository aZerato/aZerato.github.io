<div data-model="publication_date">07-21-2016</div>

<img data-img="http://s2.quickmeme.com/img/e6/e68245cc9b5e1ff15f103c7bd5a909d87f415c6433780e8e1442d8c93d6a03e2.jpg" />

<div data-lang="fr">
	<div data-model="title">Sharepoint - erreur "SqlSessionState"</div>
	<div data-model="summary">
		<p>
			J'ai eu cette erreur en ouvrant un site Sharepoint directement depuis l'IP du serveur. Aucune règle de routing/résolution de nom était en place.
		</p>
	</div>
	<div data-model="content">
		<p>
			J'ai eu cette erreur en ouvrant un site Sharepoint directement depuis l'IP du serveur. Aucune règle de routing/résolution de nom était en place.
		</p>
		<p>
			Comme un site Sharepoint (2007 pour le coup) est basé sur son hostname, il y a eu des problèmes de routing, des fichiers devaient être
			chargés depuis 'http://mon-site-dev' et non depuis http://IP.DU.SERVER:80. 
		</p>
		<p>
			Donc il a été nécessaire d'ajouter une règle au niveau du serveur de DNS, qu'on a du ajouter par la suite dans SP. Pour cela, il faut
			se rendre dans les paramètres de la ferme : '/_admin/AlternateUrlCollections.aspx'.
		</p>
		<p>
			Vous allez arriver sur la page de configuration 'Alternate Access Mapping'. 
			<ul>
				<li>Le hostname initial du site paramétré lors de la création de la webapp/site : 'http://mon-site-dev'</li>
				<li>La règle DNS était basé sur le hostname : 'http://mon-site.dev'</li>
			</ul>
			Il faut alors cliquer sur 'Edit Publics URLs', choisir ensuite 'Alternate Access Mapping Collection' et séléctionner le site : 'http://mon-site-dev'.
			Et vous lui ajouter une 'Custom' url correspondant à la régle précédente soit égale à 'http://mon-site.dev'.
		</p>
	</div>
</div>

<div data-lang="en">
	<div data-model="title">Sharepoint - erreur "SqlSessionState"</div>
	<div data-model="summary">
		<p>
			I've this error when i attempt to open directly a Sharepoint website with server's ip. No resolution name / routing rules are set.
		</p>
	</div>
	<div data-model="content">
		<p>
			I've this error when i attempt to open directly a Sharepoint website with server's ip. No resolution name / routing rules are set.
		</p>
		<p>
			A Sharepoint (in this case 2007) website is based on the hostname. Some files are loaded from 'http://hostname-my-site/' but i'm use 'http://172.12.0.1'.
		</p>
			Add new rule to DNS server. After, go to farm settings : '/_admin/AlternateUrlCollections.aspx'.
		</p>
		<p>
			Welcome to 'Alternate Access Mapping' page ! 
			<ul>
				<li>The original setted hostname (at webapp/site creation) : 'http://hostname-my-site/'</li>
				<li>La règle DNS était basé sur le hostname : 'http://hostname-my.site/'</li>
			</ul>
			'Edit Publics URLs', then choose 'Alternate Access Mapping Collection', and select : 'http://hostname-my-site'.
			Add 'Custom' url 'http://hostname-my.site'.
		</p>
	</div>
</div>